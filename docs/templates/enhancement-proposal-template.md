# EP-XXXX: [Title - Brief Description of Enhancement]

**Status:** Draft | Review | Approved | Implemented  
**Created:** YYYY-MM-DD  
**Updated:** YYYY-MM-DD  

---

## Executive Summary
<!-- AI: Provide a 2-3 sentence summary of what this enhancement does and why it's needed -->

## Problem Statement
<!-- AI: Answer these questions:
- What specific problem or limitation exists in the current system?
- What pain points do users/operators experience?
- What business/technical value is being lost?
- Include relevant metrics or examples if available
-->

## Current State Analysis
<!-- AI: Analyze the current implementation:
- What components are currently involved?
- How does the current flow work?
- What are the current limitations?
- Reference specific files/functions/classes if applicable
-->

## Proposed Solution

### High-Level Approach
<!-- AI: Describe the solution approach in 3-4 bullets -->

### Architecture Changes
<!-- AI: Detail the technical changes needed -->

#### Component Modifications
- **[Component Name]**: [What changes are needed and why]
- **[Component Name]**: [What changes are needed and why]

#### New Components
- **[Component Name]**: [Purpose, responsibilities, and interface]
- **[Component Name]**: [Purpose, responsibilities, and interface]

#### Data Flow Changes
<!-- AI: Describe how data flow will change. Use sequence diagrams or flow descriptions -->

#### API Changes
<!-- AI: List any API endpoint changes -->
- **New Endpoints**: [List with brief description]
- **Modified Endpoints**: [List with changes]
- **Deprecated Endpoints**: [List with migration path]

### Requirements Impact

#### New Requirements
<!-- AI: List new functional/non-functional requirements that will be added -->
- **REQ-X.X.X**: [Requirement statement]
- **REQ-X.X.X**: [Requirement statement]

#### Modified Requirements
<!-- AI: List existing requirements that will be changed -->
- **REQ-X.X.X**: [Original] → [Modified]
- **REQ-X.X.X**: [Original] → [Modified]

#### Removed Requirements
<!-- AI: List requirements that will be removed -->
- **REQ-X.X.X**: [Requirement being removed and justification]

## Implementation Strategy

### Phase 1: Foundation
<!-- AI: Core implementation tasks -->
**Duration Estimate:** [X days/weeks]
**Dependencies:** [List any blockers]

#### Step 1.1: Initial Setup
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 1.1 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]
- [ ] [Atomic task 3]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 1.2: Core Implementation
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 1.2 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]
- [ ] [Atomic task 3]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 1.3: Basic Testing
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 1.3 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

### Phase 2: Integration
<!-- AI: Integration and testing tasks -->
**Duration Estimate:** [X days/weeks]
**Dependencies:** [Phase 1 completion]

#### Step 2.1: System Integration
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 2.1 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]
- [ ] [Atomic task 3]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 2.2: Interface Updates
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 2.2 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 2.3: End-to-End Testing
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 2.3 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

### Phase 3: Documentation & Finalization
<!-- AI: Documentation and cleanup tasks -->
**Duration Estimate:** [X days/weeks]
**Dependencies:** [Phase 2 completion]

#### Step 3.1: Code Documentation
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 3.1 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 3.2: Update Main Documentation
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 3.2 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

#### Step 3.3: Final Validation
**Goal:** [Specific goal for this step]
**Files to Create/Modify:** [List specific files]
**AI Prompt:** `Implement Step 3.3 of EP-XXXX: [step description]`

**Tasks:**
- [ ] [Atomic task 1]
- [ ] [Atomic task 2]

**Validation Criteria:**
- [ ] [Specific, testable criterion]
- [ ] [Specific, testable criterion]

**Success Check:**
```bash
# Commands to verify this step
[verification commands]
```

## Documentation Updates Required

### requirements.md Updates
<!-- AI: List specific sections that need updating -->
- [ ] **Section [X.X]**: [Specific change needed]
- [ ] **Section [X.X]**: [Specific change needed]
- [ ] **New Section**: [What needs to be added]

### design.md Updates
<!-- AI: List specific sections that need updating -->
- [ ] **Section [X.X]**: [Specific change needed]
- [ ] **Section [X.X]**: [Specific change needed]
- [ ] **New Section**: [What needs to be added]

### API Documentation Updates
<!-- AI: List API documentation changes -->
- [ ] [Specific API doc change]
- [ ] [Specific API doc change]

### Other Documentation
<!-- AI: Any other docs that need updates -->
- [ ] [File/section]: [Change needed]
- [ ] [File/section]: [Change needed]

## Risk Assessment

### Technical Risks
<!-- AI: Identify potential technical risks -->
- **Risk**: [Description]
  - **Likelihood**: Low | Medium | High
  - **Impact**: Low | Medium | High
  - **Mitigation**: [Strategy]

## Testing Strategy

### Unit Testing
<!-- AI: Describe unit testing approach -->
- [ ] [Specific test requirement]
- [ ] [Specific test requirement]

### Integration Testing
<!-- AI: Describe integration testing approach -->
- [ ] [Specific test requirement]
- [ ] [Specific test requirement]

## Success Criteria

### Functional Validation
<!-- AI: How will we know the feature works correctly? -->
- [ ] [Specific functional test]
- [ ] [Specific functional test]

### Performance Validation
<!-- AI: How will we validate performance? -->
- [ ] [Specific performance metric]
- [ ] [Specific performance metric]

### User Experience Validation
<!-- AI: How will we validate UX improvements? -->
- [ ] [Specific UX test]
- [ ] [Specific UX test]

## Alternatives Considered

### Option 1: [Alternative Name]
<!-- AI: Describe alternative approach -->
**Pros:** [Benefits]
**Cons:** [Drawbacks]
**Decision:** [Why rejected/accepted]

### Option 2: [Alternative Name]
<!-- AI: Describe alternative approach -->
**Pros:** [Benefits]
**Cons:** [Drawbacks]
**Decision:** [Why rejected/accepted]

## Future Considerations
<!-- AI: What future enhancements does this enable? -->
- [Future enhancement possibility]
- [Future enhancement possibility]

## Implementation Notes
<!-- AI: Any specific implementation details or gotchas -->
- [Important implementation note]
- [Important implementation note]

---

## AI Implementation Guide

### Step 1: Generate Initial EP
**AI Prompt:** "Generate an Enhancement Proposal using this template for [specific enhancement request]"

### Step 2: Review and Refine
**Human Review:** Check accuracy, completeness, and feasibility
**AI Refinement:** "Update EP-XXXX based on this feedback: [feedback]"

### Step 3: Granular Implementation
**Follow the detailed step-by-step implementation using the specific AI prompts for each step:**

#### Phase 1 Implementation
1. **Step 1.1:** "Implement Step 1.1 of EP-XXXX: [step description]"
2. **Validate:** Run success check commands and verify criteria
3. **Step 1.2:** "Implement Step 1.2 of EP-XXXX: [step description]"
4. **Validate:** Run success check commands and verify criteria
5. **Step 1.3:** "Implement Step 1.3 of EP-XXXX: [step description]"
6. **Validate:** Run success check commands and verify criteria

#### Phase 2 Implementation
1. **Step 2.1:** "Implement Step 2.1 of EP-XXXX: [step description]"
2. **Validate:** Run success check commands and verify criteria
3. **Step 2.2:** "Implement Step 2.2 of EP-XXXX: [step description]"
4. **Validate:** Run success check commands and verify criteria
5. **Step 2.3:** "Implement Step 2.3 of EP-XXXX: [step description]"
6. **Validate:** Run success check commands and verify criteria

#### Phase 3 Implementation
1. **Step 3.1:** "Implement Step 3.1 of EP-XXXX: [step description]"
2. **Validate:** Run success check commands and verify criteria
3. **Step 3.2:** "Implement Step 3.2 of EP-XXXX: [step description]"
4. **Validate:** Run success check commands and verify criteria
5. **Step 3.3:** "Implement Step 3.3 of EP-XXXX: [step description]"
6. **Validate:** Run success check commands and verify criteria

### Step 4: Mark EP as Complete
**AI Prompt:** "Review EP-XXXX implementation and mark it as completed. Move it to the implemented directory and update the registry."

### Implementation Tips for AI

1. **One Step at a Time:** Always complete and validate one step before moving to the next
2. **Use Specific Prompts:** Each step has a specific AI prompt - use it exactly as written
3. **Validate Every Step:** Run the success check commands after each step
4. **Files Are Specified:** Each step lists exactly which files to create/modify
5. **Atomic Tasks:** Each step contains small, focused tasks that are easy to complete
6. **Clear Goals:** Each step has a specific goal that must be achieved

### Validation Pattern
For each step, always:
1. Complete the tasks listed
2. Run the success check commands
3. Verify the validation criteria are met
4. Only proceed to next step if all validations pass 